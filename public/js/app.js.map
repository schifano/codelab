{"version":3,"file":"public/js/app.js","sources":["app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjGA;AAAA","sourcesContent":["/*\n\n   ___          _        __       _     \n  / __\\___   __| | ___  / /  __ _| |__  \n / /  / _ \\ / _` |/ _ \\/ /  / _` | '_ \\ \n/ /__| (_) | (_| |  __/ /__| (_| | |_) |\n\\____/\\___/ \\__,_|\\___\\____/\\__,_|_.__/ \n                                        \n\n*/\n\n\t\n// Let's create the user object.\nvar user = {};\n    user.nickname = \"anonymous\";\n\n// Now the socket connection\nvar socket = io.connect('http://:8080');\n\nsocket.on('session-id', function (data) {\n\n\tuser.session_id = data.session_id;\n\t\n\tsocket.emit('update-user', user);\n\n  socket.emit('refresh-friends');\n});\n\nsocket.on('friend-disconnect', function () {\n\n    socket.emit('refresh-friends');\n});\n\nsocket.on('friends-broadcast', function (data) {\n\n  $('ul#users').empty();\n\n  console.log(data);\n\n  for(var i = 0; i < data.length; i++){\n\n  $('ul#users').append( \"<a href=\\\"#\\\"><li id=\\\"\" + data[i].session_id + \"\\\">\" + data[i].nickname + \"</li></a>\");\n\n  }\n\n  $(\"#users li\").on('click', function(e) {\n\n    user.partner_id = this.id;\n\n    socket.emit('update-user', user);\n\n    console.log(user);    \n\n  });\n\n});\n\n$(document).ready(function() {\n\nvar oldVal = \"\";\n$(\"#userText\").on(\"change keyup paste\", function() {\n\n    var currentVal = $(this).val();\n    \n    if(currentVal == oldVal) {\n    \n        return; //check to prevent multiple simultaneous triggers\n    \n    }\n    \n    oldVal = currentVal;\n\n    user.text_area = oldVal;\n\n    //socket.emit('textarea', {textarea: oldVal});   \n    socket.emit('update-user', user);\n\n});\n\n\n$(\"#nicknameForm\").submit(function() {\n  //console.log($(this).children(\"#nicknameText\").val());\n  \n  var nick = $(this).children(\"#nicknameText\").val();\n  user.nickname = nick;\n  //console.log(nick);\n  socket.emit('update-user', user);\n\n  socket.emit('refresh-friends');\n  return false;\n});\n\n});\n\n\n\n\n"]}