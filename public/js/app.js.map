{"version":3,"file":"public/js/app.js","sources":["app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3GA;AAAA","sourcesContent":["/*\n\n   ___          _        __       _     \n  / __\\___   __| | ___  / /  __ _| |__  \n / /  / _ \\ / _` |/ _ \\/ /  / _` | '_ \\ \n/ /__| (_) | (_| |  __/ /__| (_| | |_) |\n\\____/\\___/ \\__,_|\\___\\____/\\__,_|_.__/ \n                                        \n\n*/\n\n// We wait for the document to finish loading.\n$(document).ready(function() {\n\t\n// Let's create the user object.\nvar user = {};\n    user.nickname = \"anonymous\"; // Default nickname\n    user.textarea = \"\";          // Default text file\n\n// Now open the socket connection\nvar socket = io.connect('http://:8080');\n\n//\n//  Socket.io Listeners/Events\n//\n\nsocket.on('retrieve-code', function(textarea) {\n  console.log(\"made it\");\n  $('#viewCode').val(textarea);\n\n});\n\nsocket.on('session-id', function (data) {\n\n\tuser.session_id = data.session_id;\n\t\n\tsocket.emit('update-user', user);\n\n  socket.emit('refresh-friends');\n});\n\nsocket.on('watch-code', function(partnerUser) {\n\tconsole.log(\"got partner shit\");\n\tconsole.log(partnerUser.nickname);\n\tconsole.log(partnerUser.textarea);\n\t$('#viewCode').val(partnerUser.textarea);\n});\n\nsocket.on('friend-disconnect', function () {\n\n    socket.emit('refresh-friends');\n});\n\nsocket.on('friends-broadcast', function (data) {\n\n  $('ul#users').empty();\n\n  console.log(data);\n\n  for(var i = 0; i < data.length; i++){\n\n  $('ul#users').append( \"<a href=\\\"#\\\"><li id=\\\"\" + data[i].session_id + \"\\\">\" + data[i].nickname + \"</li></a>\");\n\n  }\n\n  $(\"#users li\").on('click', function(e) {\n\n    user.partner_id = this.id;\n\n    socket.emit('update-user', user);\n\n    socket.emit('fetch-code', user.partner_id); \n\n  });\n\n});\n\n//\n//  jQuery Listeners/Events\n//\n\n  $(\"#userText\").on(\"change keydown keyup paste\", function() {\n\n      user.textarea = $(this).val();\n\n      socket.emit('update-user', user);\n\n  });\n\n\n  $(\"#nicknameForm\").submit(function() {\n\n    user.nickname = $(this).children(\"#nicknameText\").val();\n\n    socket.emit('update-user', user);\n\n    socket.emit('refresh-friends');\n\n    return false;\n  \n  });\n\n});\n\n\n\n\n"]}